diff -ur pngcrush-1.5.4.orig/Makefile.gcc pngcrush-1.5.4/Makefile.gcc
--- pngcrush-1.5.4.orig/Makefile.gcc	2000-06-30 18:53:36.000000000 -0300
+++ pngcrush-1.5.4/Makefile.gcc	2002-02-20 12:06:28.000000000 -0300
@@ -13,7 +13,7 @@
 CC = gcc
 LD = gcc
 RM = rm -f
-CFLAGS = -I. -O -Wall
+CFLAGS = -O -Wall
 # [note that -Wall is a gcc-specific compilation flag ("all warnings on")]
 LDFLAGS =
 O = .o
@@ -21,33 +21,24 @@
 
 PNGCRUSH  = pngcrush
 
-LIBS = -lm
+LIBS = -lz -lpng
 
-OBJS  = $(PNGCRUSH)$(O) adler32$(O) crc32$(O) deflate$(O) gzio$(O) \
-	infblock$(O) infcodes$(O) inffast$(O) inflate$(O) inftrees$(O) \
-	infutil$(O) png$(O) pngerror$(O) pngget$(O) pngmem$(O) \
-	pngpread$(O) pngread$(O) pngrio$(O) pngrtran$(O) pngrutil$(O) \
-	pngset$(O) pngtrans$(O) pngwio$(O) pngwrite$(O) pnggccrd$(O) \
-	pngwtran$(O) pngwutil$(O) trees$(O) zutil$(O)
+OBJS  = $(PNGCRUSH)$(O)
 
 EXES = $(PNGCRUSH)$(E)
 
 
 # implicit make rules -------------------------------------------------------
 
-.c$(O): png.h pngconf.h zlib.h pngcrush.h cexcept.h
+.c$(O):
 	$(CC) -c $(CFLAGS) $<
 
-
 # dependencies --------------------------------------------------------------
 
 all:  $(EXES)
 
-
 $(PNGCRUSH)$(E): $(OBJS)
-	$(LD) $(LDFLAGS) -o $@ $(OBJS) $(LIBS)
-
-$(PNGCRUSH)$(O): $(PNGCRUSH).c png.h pngconf.h zlib.h pngcrush.h cexcept.h
+	$(CC) $(CFLAGS) -o $@ $(OBJS) $(LIBS)
 
 # maintenance ---------------------------------------------------------------
 
diff -ur pngcrush-1.5.4.orig/pngcrush.c pngcrush-1.5.4/pngcrush.c
--- pngcrush-1.5.4.orig/pngcrush.c	2001-04-29 09:35:10.000000000 -0300
+++ pngcrush-1.5.4/pngcrush.c	2002-02-20 12:06:28.000000000 -0300
@@ -367,7 +367,7 @@
  */
 
 #define PNG_INTERNAL
-#include "png.h"
+#include <png.h>
 
 /* we don't need the some of the extra libpng transformations
  * so they are ifdef'ed out in a special version of pngconf.h, which
